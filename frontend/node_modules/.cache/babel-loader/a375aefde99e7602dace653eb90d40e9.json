{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Devarshi\\\\data-viz-app\\\\frontend\\\\src\\\\components\\\\LineChart.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport * as d3 from 'd3';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LineChart = ({\n  data\n}) => {\n  _s();\n  const chartRef = useRef();\n  useEffect(() => {\n    if (!data || data.length === 0) return;\n\n    // Clear previous chart\n    d3.select(chartRef.current).selectAll(\"*\").remove();\n\n    // Sort data by date\n    const sortedData = [...data].sort((a, b) => new Date(a.date) - new Date(b.date));\n\n    // Set dimensions\n    const margin = {\n      top: 20,\n      right: 30,\n      bottom: 40,\n      left: 50\n    };\n    const width = 600 - margin.left - margin.right;\n    const height = 400 - margin.top - margin.bottom;\n\n    // Parse dates\n    const parseDate = d3.timeParse(\"%Y-%m\");\n    sortedData.forEach(d => {\n      d.parsedDate = parseDate(d.date);\n    });\n\n    // Create SVG\n    const svg = d3.select(chartRef.current).append(\"svg\").attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom).append(\"g\").attr(\"transform\", `translate(${margin.left},${margin.top})`);\n\n    // Create scales\n    const x = d3.scaleTime().domain(d3.extent(sortedData, d => d.parsedDate)).range([0, width]);\n    const y = d3.scaleLinear().domain([0, d3.max(sortedData, d => d.count)]).nice().range([height, 0]);\n\n    // Create line generator\n    const line = d3.line().x(d => x(d.parsedDate)).y(d => y(d.count)).curve(d3.curveMonotoneX);\n\n    // Add line path\n    svg.append(\"path\").datum(sortedData).attr(\"fill\", \"none\").attr(\"stroke\", \"#4682b4\").attr(\"stroke-width\", 2).attr(\"d\", line);\n\n    // Add dots\n    svg.selectAll(\".dot\").data(sortedData).enter().append(\"circle\").attr(\"class\", \"dot\").attr(\"cx\", d => x(d.parsedDate)).attr(\"cy\", d => y(d.count)).attr(\"r\", 5).attr(\"fill\", \"#4682b4\");\n\n    // Add axes\n    // Update your LineChart.js component:\n\n    // Improve the x-axis formatting\n    svg.append(\"g\").attr(\"transform\", `translate(0,${height})`).call(d3.axisBottom(x).tickFormat(d3.timeFormat(\"%b %Y\")).ticks(6)) // Reduce number of ticks to prevent overlapping\n    .selectAll(\"text\").attr(\"transform\", \"rotate(-45)\").style(\"text-anchor\", \"end\").attr(\"dx\", \"-.8em\").attr(\"dy\", \".15em\");\n\n    // Add tooltips to make the chart more interactive\n    const tooltip = d3.select(\"body\").append(\"div\").attr(\"class\", \"tooltip\").style(\"opacity\", 0).style(\"position\", \"absolute\").style(\"background-color\", \"white\").style(\"border\", \"1px solid #ddd\").style(\"padding\", \"10px\").style(\"border-radius\", \"3px\");\n\n    // Update dots to show tooltips\n    svg.selectAll(\".dot\").on(\"mouseover\", function (event, d) {\n      tooltip.transition().duration(200).style(\"opacity\", .9);\n      tooltip.html(`Date: ${d3.timeFormat(\"%b %Y\")(d.parsedDate)}<br/>Sales: ${d.count}`).style(\"left\", event.pageX + 10 + \"px\").style(\"top\", event.pageY - 28 + \"px\");\n    }).on(\"mouseout\", function () {\n      tooltip.transition().duration(500).style(\"opacity\", 0);\n    });\n    svg.append(\"g\").call(d3.axisLeft(y));\n\n    // Add title\n    svg.append(\"text\").attr(\"x\", width / 2).attr(\"y\", 0 - margin.top / 2).attr(\"text-anchor\", \"middle\").style(\"font-size\", \"16px\").text(\"Sales by Month\");\n  }, [data]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: chartRef\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 124,\n    columnNumber: 10\n  }, this);\n};\n_s(LineChart, \"X+1SfQQ6xefXNU27aQW843M7cTw=\");\n_c = LineChart;\nexport default LineChart;\nvar _c;\n$RefreshReg$(_c, \"LineChart\");","map":{"version":3,"names":["React","useEffect","useRef","d3","jsxDEV","_jsxDEV","LineChart","data","_s","chartRef","length","select","current","selectAll","remove","sortedData","sort","a","b","Date","date","margin","top","right","bottom","left","width","height","parseDate","timeParse","forEach","d","parsedDate","svg","append","attr","x","scaleTime","domain","extent","range","y","scaleLinear","max","count","nice","line","curve","curveMonotoneX","datum","enter","call","axisBottom","tickFormat","timeFormat","ticks","style","tooltip","on","event","transition","duration","html","pageX","pageY","axisLeft","text","ref","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Devarshi/data-viz-app/frontend/src/components/LineChart.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\r\nimport * as d3 from 'd3';\r\n\r\nconst LineChart = ({ data }) => {\r\n  const chartRef = useRef();\r\n  \r\n  useEffect(() => {\r\n    if (!data || data.length === 0) return;\r\n    \r\n    // Clear previous chart\r\n    d3.select(chartRef.current).selectAll(\"*\").remove();\r\n    \r\n    // Sort data by date\r\n    const sortedData = [...data].sort((a, b) => new Date(a.date) - new Date(b.date));\r\n    \r\n    // Set dimensions\r\n    const margin = { top: 20, right: 30, bottom: 40, left: 50 };\r\n    const width = 600 - margin.left - margin.right;\r\n    const height = 400 - margin.top - margin.bottom;\r\n    \r\n    // Parse dates\r\n    const parseDate = d3.timeParse(\"%Y-%m\");\r\n    sortedData.forEach(d => {\r\n      d.parsedDate = parseDate(d.date);\r\n    });\r\n    \r\n    // Create SVG\r\n    const svg = d3.select(chartRef.current)\r\n      .append(\"svg\")\r\n        .attr(\"width\", width + margin.left + margin.right)\r\n        .attr(\"height\", height + margin.top + margin.bottom)\r\n      .append(\"g\")\r\n        .attr(\"transform\", `translate(${margin.left},${margin.top})`);\r\n    \r\n    // Create scales\r\n    const x = d3.scaleTime()\r\n      .domain(d3.extent(sortedData, d => d.parsedDate))\r\n      .range([0, width]);\r\n    \r\n    const y = d3.scaleLinear()\r\n      .domain([0, d3.max(sortedData, d => d.count)])\r\n      .nice()\r\n      .range([height, 0]);\r\n    \r\n    // Create line generator\r\n    const line = d3.line()\r\n      .x(d => x(d.parsedDate))\r\n      .y(d => y(d.count))\r\n      .curve(d3.curveMonotoneX);\r\n    \r\n    // Add line path\r\n    svg.append(\"path\")\r\n      .datum(sortedData)\r\n      .attr(\"fill\", \"none\")\r\n      .attr(\"stroke\", \"#4682b4\")\r\n      .attr(\"stroke-width\", 2)\r\n      .attr(\"d\", line);\r\n    \r\n    // Add dots\r\n    svg.selectAll(\".dot\")\r\n      .data(sortedData)\r\n      .enter()\r\n      .append(\"circle\")\r\n        .attr(\"class\", \"dot\")\r\n        .attr(\"cx\", d => x(d.parsedDate))\r\n        .attr(\"cy\", d => y(d.count))\r\n        .attr(\"r\", 5)\r\n        .attr(\"fill\", \"#4682b4\");\r\n    \r\n    // Add axes\r\n    // Update your LineChart.js component:\r\n\r\n    // Improve the x-axis formatting\r\n    svg.append(\"g\")\r\n    .attr(\"transform\", `translate(0,${height})`)\r\n    .call(d3.axisBottom(x)\r\n    .tickFormat(d3.timeFormat(\"%b %Y\"))\r\n    .ticks(6)) // Reduce number of ticks to prevent overlapping\r\n    .selectAll(\"text\")\r\n    .attr(\"transform\", \"rotate(-45)\")\r\n    .style(\"text-anchor\", \"end\")\r\n    .attr(\"dx\", \"-.8em\")\r\n    .attr(\"dy\", \".15em\");\r\n\r\n    // Add tooltips to make the chart more interactive\r\n    const tooltip = d3.select(\"body\").append(\"div\")\r\n    .attr(\"class\", \"tooltip\")\r\n    .style(\"opacity\", 0)\r\n    .style(\"position\", \"absolute\")\r\n    .style(\"background-color\", \"white\")\r\n    .style(\"border\", \"1px solid #ddd\")\r\n    .style(\"padding\", \"10px\")\r\n    .style(\"border-radius\", \"3px\");\r\n\r\n    // Update dots to show tooltips\r\n    svg.selectAll(\".dot\")\r\n    .on(\"mouseover\", function(event, d) {\r\n    tooltip.transition()\r\n        .duration(200)\r\n        .style(\"opacity\", .9);\r\n    tooltip.html(`Date: ${d3.timeFormat(\"%b %Y\")(d.parsedDate)}<br/>Sales: ${d.count}`)\r\n        .style(\"left\", (event.pageX + 10) + \"px\")\r\n        .style(\"top\", (event.pageY - 28) + \"px\");\r\n    })\r\n    .on(\"mouseout\", function() {\r\n    tooltip.transition()\r\n        .duration(500)\r\n        .style(\"opacity\", 0);\r\n    });\r\n    \r\n    svg.append(\"g\")\r\n      .call(d3.axisLeft(y));\r\n    \r\n    // Add title\r\n    svg.append(\"text\")\r\n      .attr(\"x\", width / 2)\r\n      .attr(\"y\", 0 - margin.top / 2)\r\n      .attr(\"text-anchor\", \"middle\")\r\n      .style(\"font-size\", \"16px\")\r\n      .text(\"Sales by Month\");\r\n      \r\n  }, [data]);\r\n  \r\n  return <div ref={chartRef}></div>;\r\n};\r\n\r\nexport default LineChart;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}